{% extends 'base.html' %}
{% load static %}

{% block tittle %}注册{% endblock %}
{% block head %}
    <script src="{% static 'jquery/jquery-3.7.1.min.js' %}"></script>
    <script src="{% static 'js/register.js' %}"></script>
{% endblock %}
{% block content %}

    <div class="card-body p-2">
        <div style="max-width: 330px" class="m-auto">
            <h1>注册</h1>
            <form action="" method="POST">
                {% csrf_token %}
                {% if form.non_field_errors %}
                    <div class="alert alert-danger">
                        {{ form.non_field_errors }}
                    </div>
                {% endif %}

                <div class="mb-2">
                    <label>用户名</label>
                    <input type="text" class="form-control" name="username" placeholder="请输入用户名">
                    {% if form.username.errors %}
                        <div class="text-danger">
                            {{ form.username.errors.0 }}
                        </div>
                    {% endif %}
                </div>

                <div class="mb-2">
                    <label>学院</label>
                    <input type="text" class="form-control" name="college" placeholder="请输入学院">
                    {% if form.college.errors %}
                        <div class="text-danger">
                            {{ form.college.errors.0 }}
                        </div>
                    {% endif %}
                </div>
                <div class="mb-2">
                    <label>工号/学号</label>
                    <input type="text" class="form-control" name="school_id" placeholder="请输入工号/学号">
                    {% if form.school_id.errors %}
                        <div class="text-danger">
                            {{ form.school_id.errors.0 }}
                        </div>
                    {% endif %}
                </div>
                <div class="mb-2">
                    <label>邮箱</label>
                    <input type="text" class="form-control" name="email" placeholder="请输入邮箱">
                    {% if form.email.errors %}
                        <div class="text-danger">
                            {{ form.email.errors.0 }}
                        </div>
                    {% endif %}
                </div>


                <div class="mb-2">
                    <label>密码</label>
                    <input type="password" class="form-control" name="password" placeholder="请输入密码">
                    {% if form.password.errors %}
                        <div class="text-danger">
                            {{ form.password.errors.0 }}
                        </div>
                    {% endif %}
                </div>
                <div class="mb-2">
                    <label>验证码</label>
                    <div class="input-group mb-0">
                        <input type="text" class="form-control" name="captcha"
                               placeholder="请输入验证码"
                               aria-label="Recipient's username" aria-describedby="button-addon2">

                        <button class="btn btn-outline-secondary" type="button" id="captcha-btn">
                            获取验证码
                        </button>

                    </div>
                    {% if form.captcha.errors %}
                        <div class="text-danger">
                            {{ form.captcha.errors.0 }}
                        </div>
                    {% endif %}
                </div>

                <div class="mb-2">
                    <label>注册身份</label>
                    <div class="d-flex gap-3">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="user_type" id="student" value="student"
                                   checked>
                            <label class="form-check-label" for="student">学生</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="user_type" id="teacher" value="teacher">
                            <label class="form-check-label" for="teacher">教师</label>
                        </div>
                    </div>
                </div>
                <div class="mb-2">
                    <button type="submit" class="btn btn-primary w-100">立即注册</button>
                </div>
            </form>
        </div>
    </div>

{% endblock %}